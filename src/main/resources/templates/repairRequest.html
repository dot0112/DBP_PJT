<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
  <meta charset="UTF-8">
  <title>수리 요청</title>
  <style>
    /* 기본 스타일 */
    body {
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        background-color: #f4f7fc;
        margin: 0;
        padding: 0;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
    }

    section {
        background-color: #ffffff;
        padding: 30px;
        border-radius: 10px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        width: 90%;
        max-width: 1100px;
        box-sizing: border-box;
    }

    h3 {
        text-align: center;
        font-size: 2.5em;
        color: #333;
        margin-bottom: 30px;
    }

    form {
        display: flex;
        flex-direction: column;
        gap: 20px;
    }

    /* 검색 폼 스타일 */
    select, input[type="text"] {
        padding: 12px;
        font-size: 1em;
        border: 1px solid #ccc;
        border-radius: 5px;
        width: 100%;
        box-sizing: border-box;
        transition: all 0.3s ease;
    }

    select:hover, input[type="text"]:hover {
        border-color: #007bff;
    }

    input[type="text"]::placeholder {
        color: #888;
    }

    button {
        background-color: #007bff;
        border: none;
        padding: 10px 15px;
        border-radius: 5px;
        color: #fff;
        cursor: pointer;
        transition: background-color 0.3s ease;
    }

    button:hover {
        background-color: #0056b3;
    }

    /* 테이블 스타일 */
    table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 30px;
    }

    th, td {
        padding: 12px;
        text-align: center;
        border: 1px solid #ddd;
    }

    th {
        background-color: #007bff;
        color: white;
        font-weight: bold;
    }

    td {
        background-color: #fafafa;
    }

    tr:nth-child(even) td {
        background-color: #f2f2f2;
    }

    /* 체크박스 스타일 */
    input[type="checkbox"] {
        margin-left: 10px;
    }

    /* 반응형 디자인 */
    @media (max-width: 768px) {
        section {
            width: 95%;
            padding: 15px;
        }

        h3 {
            font-size: 1.8em;
        }

        form {
            gap: 15px;
        }

        input[type="text"], select {
            width: 100%;
        }

        table {
            font-size: 0.9em;
        }
    }
  </style>
</head>
<body>

<section th:fragment="repairRequest">
  <h3>수리 요청</h3>

  <!-- 검색 폼 -->
  <form th:action="@{/searchRepair}" method="get">
    <div>
      <select name="way">
        <option value="id" th:selected="${way == 'id'}">ID</option>
        <option value="name" th:selected="${way == 'name'}">이름</option>
        <option value="type" th:selected="${way == 'type'}">카테고리</option>
      </select>
    </div>
    <div>
      <input type="text" name="searchRepairItem" placeholder="검색어를 입력하세요">
    </div>
    <div>
      <button type="submit">
        <img src="/media/search.png" alt="검색" width="30px">
      </button>
    </div>
  </form>

  <!-- 수리 요청 폼 -->
  <form th:action="@{/applyRepair}" method="post">
    <table>
      <thead>
      <tr>
        <td>비품 ID</td>
        <td>비품 명</td>
        <th>종류</th>
        <td colspan="2">위치</td>
        <th>상태</th>
        <td>선택</td>
      </tr>
      </thead>
      <tbody>
      <tr th:each="item : ${items}">
        <td th:text="${item.itemId}"></td>
        <td th:text="${item.itemName}"></td>
        <td th:text="${item.itemType}"></td>
        <td th:text="${item.buildingName}"></td>
        <td th:text="${item.roomNumber}"></td>
        <td th:text="${item.currentState}"></td>
        <td><input type="checkbox" name="repairItems" th:value="${item.itemId+':'+item.itemName}"></td>
      </tr>
      </tbody>
    </table>
    <div>
      <input type="submit" value="수리 요청하기">
    </div>
  </form>
</section>

</body>
</html>
